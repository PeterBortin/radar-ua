<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>radloc</title>
  <style>
    body {
      background-color: black;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      height: 100vh;
      margin: 0;
      font-family: 'Courier New', monospace;
    }

    .radar-container {
      position: relative;
      margin-bottom: 30px;
    }

    .radar {
      width: 500px;
      height: 500px;
      border-radius: 50%;
      border: 1px dashed #70FF00;
      background-color: black;
      position: relative;
    }

    .gradient {
      width: 500px;
      height: 500px;
      border-radius: 50%;
      position: absolute;
      animation: rotate 4s linear infinite;
      background: conic-gradient(from 180deg at 50% 50%, rgba(0, 0, 0, 0.00) 0deg, rgba(9, 20, 0, 0.08) 147.53514289855957deg, #70FF00 360deg);
    }

    .shape {
      content: '';
      position: absolute;
      width: 100%;
      border: 1px dashed #333;
      top: 50%;
      left: 0;
      transform: translateY(-50%);
    }

    .shape2 {
      content: '';
      position: absolute;
      height: 100%;
      border: 1px dashed #333;
      left: 50%;
      top: 0;
      transform: translateX(-50%);
    }

    .diagonal-line {
      width: 141%;
      border: 1px dashed #333;
      top: 0%;
      left: 0;
      transform-origin: left center;
      transform: rotate(45deg);
      position: absolute;
    }

    .diagonal-line2 {
      width: 141%;
      border: 1px dashed #333;
      top: 0%;
      right: 0;
      transform-origin: right center;
      transform: rotate(-45deg);
      position: absolute;
    }

    .radar::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      background-color: #111111;
      width: 300px;
      height: 300px;
      border-radius: 50%;
      border: 2px dashed #70FF00;
      transform: translate(-50%, -50%);
    }

    .radar::after {
      content: '';
      position: absolute;
      top: 50%;
      left: 50%;
      width: 150px;
      height: 150px;
      border-radius: 50%;
      border: 2px dashed #70FF00;
      transform: translate(-50%, -50%);
    }

    .sweep-line {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 2px;
      height: 250px;
      background-color: #70FF00;
      transform-origin: center top;
      animation: rotate 4s linear infinite;
      transform: translateX(-1px);
    }

    /* –ë–ª–æ–∫ —Ü–µ–ª–µ–π */
    .targets-container {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
    }

    .target {
      width: 8px;
      height: 8px;
      border-radius: 50%;
      position: absolute;
      animation: pulse 1s ease-in-out infinite;
    }

    .target.hostile {
      background-color: #FF4444;
      animation: moveHostile 12s linear infinite, pulse 1s ease-in-out infinite;
    }

    .target.drone {
      background-color: #FFD700;
      width: 6px;
      height: 6px;
      animation: moveDrone 10s linear infinite, pulse 1s ease-in-out infinite;
    }

    .target.aircraft {
      background-color: #00FFFF;
      width: 10px;
      height: 10px;
      animation: moveAircraft 15s linear infinite, pulse 1s ease-in-out infinite;
    }

    /* –†–∞–∫–µ—Ç—ã –ü–í–û */
    .pvo-missile {
      width: 4px;
      height: 4px;
      background-color: #FFFFFF;
      border-radius: 50%;
      position: absolute;
      display: none;
      z-index: 100;
    }

    /* –ö–Ω–æ–ø–∫–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è */
    .control-button {
      padding: 15px 30px;
      background: linear-gradient(45deg, #004400, #70FF00);
      color: #000;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-family: 'Courier New', monospace;
      font-weight: bold;
      font-size: 16px;
      transition: all 0.3s;
      box-shadow: 0 8px 24px rgba(112, 255, 0, 0.3);
    }

    .control-button:hover {
      background: linear-gradient(45deg, #70FF00, #90FF20);
      box-shadow: 0 12px 24px rgba(112, 255, 0, 0.5);
      transform: translateY(-2px);
    }

    .control-button:active {
      transform: translateY(0);
    }

    .control-button:disabled {
      background: #333;
      color: #666;
      cursor: not-allowed;
      box-shadow: none;
    }

    /* –ê–Ω–∏–º–∞—Ü–∏–∏ –¥–≤–∏–∂–µ–Ω–∏—è —Ü–µ–ª–µ–π */
    @keyframes moveHostile {
      0% { top: 10%; left: 80%; }
      25% { top: 80%; left: 90%; }
      50% { top: 90%; left: 20%; }
      75% { top: 20%; left: 10%; }
      100% { top: 10%; left: 80%; }
    }

    @keyframes moveDrone {
      0% { top: 90%; left: 70%; }
      25% { top: 20%; left: 80%; }
      50% { top: 10%; left: 30%; }
      75% { top: 70%; left: 10%; }
      100% { top: 90%; left: 70%; }
    }

    @keyframes moveAircraft {
      0% { top: 30%; left: 10%; }
      33% { top: 70%; left: 80%; }
      66% { top: 20%; left: 90%; }
      100% { top: 30%; left: 10%; }
    }

    @keyframes pulse {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.3); opacity: 0.7; }
    }

    @keyframes rotate {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* –ê–Ω–∏–º–∞—Ü–∏—è —Ä–∞–∫–µ—Ç—ã */
    .missile-launch {
      display: block !important;
      animation: flyToTarget 4s linear forwards;
    }

    @keyframes flyToTarget {
      0% {
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%) scale(1);
      }
      100% {
        top: var(--target-y);
        left: var(--target-x);
        transform: translate(-50%, -50%) scale(2);
      }
    }

    .explosion {
      position: absolute;
      width: 44px;
      height: 44px;
      background: radial-gradient(circle, #FFD700 25%, #FF4444 0%, transparent 100%);
      border-radius: 80%;
      animation: explode 0.5s ease-out forwards;
    }

    @keyframes explode {
      0% {
        transform: scale(0);
        opacity: 1;
      }
      100% {
        transform: scale(3);
        opacity: 0;
      }
    }
  </style>

</head>

<body>
  <div class="radar-container">
    <!-- –ë–ª–æ–∫ —Ä–∞–¥–∞—Ä–∞ -->
    <div class="radar">
      <div class="gradient"></div>
      <div class="shape"></div>
      <div class="shape2"></div>
      <div class="diagonal-line"></div>
      <div class="diagonal-line2"></div>
      <div class="sweep-line"></div>
      
      <!-- –ë–ª–æ–∫ —Ü–µ–ª–µ–π -->
      <div class="targets-container">
        <div class="target hostile" data-type="hostile"></div>
        <div class="target drone" data-type="drone"></div>
        <div class="target aircraft" data-type="aircraft"></div>
      </div>
    </div>
  </div>

  <!-- –ö–Ω–æ–ø–∫–∞ –ü–í–û -->
  <button class="control-button" id="pvoButton">üöÄ –ü–£–°–ö</button>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const radar = document.querySelector('.radar');
      const pvoButton = document.getElementById('pvoButton');
      const targetsContainer = document.querySelector('.targets-container');
      
      let isLaunching = false;
      let activeMissiles = [];

      function createMissile() {
        const missile = document.createElement('div');
        missile.className = 'pvo-missile';
        missile.style.display = 'block';
        missile.style.position = 'absolute';
        missile.style.top = '50%';
        missile.style.left = '50%';
        missile.style.transform = 'translate(-50%, -50%)';
        radar.appendChild(missile);
        return missile;
      }

      function getTargetPosition(target) {
        if (!target || target.style.visibility === 'hidden') return null;
        
        const targetRect = target.getBoundingClientRect();
        const radarRect = radar.getBoundingClientRect();
        
        return {
          x: ((targetRect.left + targetRect.width/2) - radarRect.left) / radarRect.width * 100,
          y: ((targetRect.top + targetRect.height/2) - radarRect.top) / radarRect.height * 100
        };
      }

      function findNearestTarget(missilePos = {x: 50, y: 50}) {
        const targets = Array.from(targetsContainer.querySelectorAll('.target'))
          .filter(target => target.style.visibility !== 'hidden');
        
        let nearest = null;
        let minDistance = Infinity;

        targets.forEach(target => {
          const targetPos = getTargetPosition(target);
          if (!targetPos) return;
          
          const distance = Math.sqrt(
            Math.pow(targetPos.x - missilePos.x, 2) + 
            Math.pow(targetPos.y - missilePos.y, 2)
          );
          
          if (distance < minDistance) {
            minDistance = distance;
            nearest = target;
          }
        });

        return nearest;
      }

      function calculateInterceptCourse(missilePos, target) {
        const targetPos = getTargetPosition(target);
        if (!targetPos) return null;

        // –ü–æ–ª—É—á–∞–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å —Ü–µ–ª–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –µ—ë —Ç–∏–ø–∞
        const targetType = target.classList.contains('hostile') ? 'hostile' : 
                          target.classList.contains('drone') ? 'drone' : 'aircraft';
        
        const targetSpeed = {
          'hostile': 200000,  // 120 —Å–µ–∫—É–Ω–¥ –Ω–∞ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª
          'drone': 300000,    // 100 —Å–µ–∫—É–Ω–¥ –Ω–∞ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª  
          'aircraft': 400000  // 150 —Å–µ–∫—É–Ω–¥ –Ω–∞ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª
        };

        // –ü—Ä–µ–¥—Å–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é —Ü–µ–ª–∏ —á–µ—Ä–µ–∑ –≤—Ä–µ–º—è –ø–æ–ª–µ—Ç–∞ —Ä–∞–∫–µ—Ç—ã
        const missileSpeed = 150; // –ø–∏–∫—Å–µ–ª–µ–π –≤ —Å–µ–∫—É–Ω–¥—É
        const distance = Math.sqrt(
          Math.pow(targetPos.x - missilePos.x, 2) + 
          Math.pow(targetPos.y - missilePos.y, 2)
        );
        
        const flightTime = (distance * radar.offsetWidth / 100) / missileSpeed;
        
        // –£–ø—Ä–æ—â–µ–Ω–Ω–æ–µ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ: —Ü–µ–ª—å –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç –¥–≤–∏–∂–µ–Ω–∏–µ –ø–æ —Ç–µ–∫—É—â–µ–º—É –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—é
        return {
          x: targetPos.x,
          y: targetPos.y,
          speed: Math.min(3000, distance * 100) // –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: —á–µ–º –¥–∞–ª—å—à–µ —Ü–µ–ª—å, —Ç–µ–º –±—ã—Å—Ç—Ä–µ–µ —Ä–∞–∫–µ—Ç–∞
        };
      }

      function guideMissile(missile, target) {
        let missilePos = { x: 50, y: 50 };
        const missileSpeed = 1; // –®–∞–≥ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –≤ –ø—Ä–æ—Ü–µ–Ω—Ç–∞—Ö
        
        const updateMissile = () => {
          // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –±–ª–∏–∂–∞–π—à—É—é —Ü–µ–ª—å –µ—Å–ª–∏ —Ç–µ–∫—É—â–∞—è –∏—Å—á–µ–∑–ª–∞
          if (!target || target.style.visibility === 'hidden') {
            target = findNearestTarget(missilePos);
          }
          
          if (!target) {
            missile.remove();
            return;
          }

          const targetPos = getTargetPosition(target);
          if (!targetPos) {
            missile.remove();
            return;
          }

          // –í—ã—á–∏—Å–ª—è–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫ —Ü–µ–ª–∏
          const deltaX = targetPos.x - missilePos.x;
          const deltaY = targetPos.y - missilePos.y;
          const distance = Math.sqrt(deltaX * deltaX + deltaY * deltaY);

          // –ü—Ä–æ–≤–µ—Ä—è–µ–º –ø–æ–ø–∞–¥–∞–Ω–∏–µ
          if (distance < 1) {
            // –ü–æ–ø–∞–¥–∞–Ω–∏–µ!
            createExplosion(targetPos.x, targetPos.y);
            target.style.visibility = 'hidden';
            missile.remove();
            
            // –í–æ–∑–≤—Ä–∞—â–∞–µ–º —Ü–µ–ª—å —á–µ—Ä–µ–∑ 6 —Å–µ–∫—É–Ω–¥
            setTimeout(() => {
              if (target.parentNode) {
                target.style.visibility = 'visible';
              }
            }, 6000);
            
            return;
          }

          // –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è —Å–∫–æ—Ä–æ—Å—Ç—å: —á–µ–º –±–ª–∏–∂–µ –∫ —Ü–µ–ª–∏, —Ç–µ–º –º–µ–¥–ª–µ–Ω–Ω–µ–µ
          const adaptiveSpeed = Math.max(0.8, Math.min(missileSpeed, distance / 6));
          
          // –ù–æ—Ä–º–∞–ª–∏–∑—É–µ–º –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∏ –ø—Ä–∏–º–µ–Ω—è–µ–º —Å–∫–æ—Ä–æ—Å—Ç—å
          const moveX = (deltaX / distance) * adaptiveSpeed;
          const moveY = (deltaY / distance) * adaptiveSpeed;

          missilePos.x += moveX;
          missilePos.y += moveY;

          // –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é —Ä–∞–∫–µ—Ç—ã
          missile.style.left = missilePos.x + '%';
          missile.style.top = missilePos.y + '%';

          // –ü—Ä–æ–¥–æ–ª–∂–∞–µ–º –Ω–∞–≤–µ–¥–µ–Ω–∏–µ
          requestAnimationFrame(updateMissile);
        };

        updateMissile();
      }

      function createExplosion(x, y) {
        const explosion = document.createElement('div');
        explosion.className = 'explosion';
        explosion.style.left = x + '%';
        explosion.style.top = y + '%';
        explosion.style.position = 'absolute';
        explosion.style.transform = 'translate(-50%, -50%)';
        radar.appendChild(explosion);
        
        setTimeout(() => {
          explosion.remove();
        }, 500);
      }

      function launchPVOMissile() {
        if (isLaunching) return;

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Ö–æ–¥–∏–º –±–ª–∏–∂–∞–π—à—É—é —Ü–µ–ª—å
        const target = findNearestTarget();
        if (!target) {
          pvoButton.textContent = '‚ùå –ù–ï–¢ –¶–ï–õ–ï–ô';
          setTimeout(() => {
            pvoButton.textContent = 'üöÄ –ü–£–°–ö';
          }, 1000);
          return;
        }

        isLaunching = true;
        pvoButton.disabled = true;
        pvoButton.textContent = 'üéØ –ù–ê–í–ï–î–ï–ù–ò–ï';

        const missile = createMissile();
        
        // –ó–∞–ø—É—Å–∫–∞–µ–º —Å–∏—Å—Ç–µ–º—É –Ω–∞–≤–µ–¥–µ–Ω–∏—è
        guideMissile(missile, target);

        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–Ω–æ–ø–∫—É –≤ —Ä–∞–±–æ—á–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–µ—Ä–µ–∑ 1 —Å–µ–∫—É–Ω–¥—É
        setTimeout(() => {
          isLaunching = false;
          pvoButton.disabled = false;
          pvoButton.textContent = 'üöÄ –ü–£–°–ö';
        }, 1000);
      }

      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∑–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–µ 5 —Å–µ–∫—É–Ω–¥
      setInterval(() => {
        if (!isLaunching) {
          const targets = Array.from(targetsContainer.querySelectorAll('.target'))
            .filter(target => target.style.visibility !== 'hidden');
          
          if (targets.length > 0 && Math.random() > 0.5) {
            // 50% —à–∞–Ω—Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
            launchPVOMissile();
          }
        }
      }, 5000);

      // –î–æ–±–∞–≤–ª—è–µ–º —Å–ª—É—á–∞–π–Ω—ã–µ –Ω–æ–≤—ã–µ —Ü–µ–ª–∏ –∫–∞–∂–¥—ã–µ 15 —Å–µ–∫—É–Ω–¥
      let activeTrajectories = new Set(); // –û—Ç—Å–ª–µ–∂–∏–≤–∞–µ–º –∑–∞–Ω—è—Ç—ã–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏
      
      setInterval(() => {
        const currentTargets = targetsContainer.querySelectorAll('.target').length;
        
        if (currentTargets < 3) { // –ú–∞–∫—Å–∏–º—É–º 8 —Ü–µ–ª–µ–π –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
          const targetTypes = ['hostile', 'drone', 'aircraft'];
          const availableTypes = targetTypes.filter(type => !activeTrajectories.has(type));
          
          // –ï—Å–ª–∏ –≤—Å–µ —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏–∏ –∑–∞–Ω—è—Ç—ã, –∂–¥—ë–º –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è
          if (availableTypes.length === 0) return;
          
          const randomType = availableTypes[Math.floor(Math.random() * availableTypes.length)];
          
          // –ü–æ–º–µ—á–∞–µ–º —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—é –∫–∞–∫ –∑–∞–Ω—è—Ç—É—é
          activeTrajectories.add(randomType);
          
          const newTarget = document.createElement('div');
          newTarget.className = `target ${randomType}`;
          newTarget.setAttribute('data-type', randomType);
          
          targetsContainer.appendChild(newTarget);
          
          // –£–¥–∞–ª—è–µ–º —Ü–µ–ª—å —á–µ—Ä–µ–∑ –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –µ—ë –∞–Ω–∏–º–∞—Ü–∏–∏ + —Å–ª—É—á–∞–π–Ω–æ–µ –≤—Ä–µ–º—è
          const lifeTime = (randomType === 'aircraft' ? 15000 : 
                          randomType === 'hostile' ? 12000 : 10000) + 
                          Math.random() * 5000; // –£–º–µ–Ω—å—à–∏–ª–∏ —Å–ª—É—á–∞–π–Ω–æ–µ –≤—Ä–µ–º—è
          
          setTimeout(() => {
            if (newTarget.parentNode) {
              newTarget.remove();
            }
            // –û—Å–≤–æ–±–æ–∂–¥–∞–µ–º —Ç—Ä–∞–µ–∫—Ç–æ—Ä–∏—é –ø–æ—Å–ª–µ —É–¥–∞–ª–µ–Ω–∏—è —Ü–µ–ª–∏
            activeTrajectories.delete(randomType);
          }, lifeTime);
        }
      }, 6000); // –£–º–µ–Ω—å—à–∏–ª–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª –¥–æ 6 —Å–µ–∫—É–Ω–¥

      pvoButton.addEventListener('click', launchPVOMissile);
    });
  </script>

</body>
</html>